# General customizations
for_window [class="^.*"] border pixel 1
focus_follows_mouse no
hide_edge_borders none

# Set my goofy variables for easier keybindings
set $Ctrl Mod4
set $Cmd Control
set $Opt Mod5
set $t3 tslash
set $f3 dstroke
set $s3 ssharp
set $w3 lstroke
set $e3 EuroSign
set $one3 copyright
set $two3 at
set $three3 sterling
set $four3 dollar
set $five3 onehalf
set $six3 threequarters
set $seven3 bar
set $eight3 bracketleft
set $nine3 bracketright
set $zero3 braceright
set $r4 registered
set $c4 copyright
set $l4 Lstroke

# General controls
bindsym $Cmd+q kill
bindsym $Cmd+$Opt+$Ctrl+$t3 exec alacritty
bindsym $Cmd+Tab exec "rofi -modi window -show-icons -show window"
bindsym $Cmd+space exec "rofi -modi run -show run"
bindsym $Cmd+Shift+3 exec "scrot -e 'mv $f ~/Desktop/'"
bindsym $Cmd+Shift+4 exec "scrot -e 'mv $f ~/Desktop/'"

# Xf86 keybindings
bindsym XF86MonBrightnessDown exec "i3-nagbar -t 'warning' -m 'XF86MonBrightnessDown'"
bindsym XF86MonBrightnessUp exec "i3-nagbar -t 'warning' -m 'XF86MonBrightnessUp'"
bindsym XF86LaunchA exec "i3-nagbar -t 'warning' -m 'XF86LaunchA'"
bindsym XF86LaunchB exec "rofi -modi run -show run"
bindsym XF86KbdBrightnessDown exec "i3-nagbar -t 'warning' -m 'XF86KbdBrightnessDown'"
bindsym XF86KbdBrightnessUp exec "i3-nagbar -t 'warning' -m 'XF86KbdBrightnessUp'"
bindsym XF86AudioPrev exec "dbus-send --print-reply --dest=org.mpris.MediaPlayer2.spotify /org/mpris/MediaPlayer2 org.mpris.MediaPlayer2.Player.Previous"
bindsym XF86AudioPlay exec "dbus-send --print-reply --dest=org.mpris.MediaPlayer2.spotify /org/mpris/MediaPlayer2 org.mpris.MediaPlayer2.Player.PlayPause"
bindsym XF86AudioNext exec "dbus-send --print-reply --dest=org.mpris.MediaPlayer2.spotify /org/mpris/MediaPlayer2 org.mpris.MediaPlayer2.Player.Next"
bindsym XF86AudioMute exec "pulsemixer --id 0 --toggle-mute"
bindsym XF86AudioLowerVolume exec "pulsemixer --id 0 --change-volume -1"
bindsym XF86AudioRaiseVolume exec "pulsemixer --id 0 --change-volume +1"
bindsym XF86Eject exec "i3-nagbar -t 'warning' -m 'XF86Eject'"

# Change focused window
bindsym $Cmd+$Opt+Shift+Left focus left
bindsym $Cmd+$Opt+Shift+Down focus down
bindsym $Cmd+$Opt+Shift+Up focus up
bindsym $Cmd+$Opt+Shift+Right focus right

# Controls for focused window
bindsym $Cmd+$Opt+Left move left
bindsym $Cmd+$Opt+Down move down
bindsym $Cmd+$Opt+Up move up
bindsym $Cmd+$Opt+Right move right
bindsym $Cmd+$Opt+$f3 fullscreen toggle

# Change container layout (stacked, tabbed, toggle split)
bindsym $Cmd+$Opt+$s3 layout stacking
bindsym $Cmd+$Opt+$w3 layout tabbed
bindsym $Cmd+$Opt+$e3 layout toggle split

# Toggle floating mode
bindsym $Cmd+$Opt+space floating toggle
floating_modifier $Cmd+$Opt

# Switch to workspace
bindsym $Cmd+$Opt+$one3 workspace 1
bindsym $Cmd+$Opt+$two3 workspace 2

# Move focused container to left/right display
bindsym $Cmd+$Opt+$Ctrl+Left move container to output left; focus output left
bindsym $Cmd+$Opt+$Ctrl+Right move container to output right; focus output right

# Top-level i3 controls
bindsym $Cmd+$Opt+$Ctrl+Shift+$r4 restart
bindsym $Cmd+$Opt+$Ctrl+Shift+$c4 reload
bindsym $Cmd+$Opt+$Ctrl+Shift+$l4 exec "i3-nagbar -m 'Do you really want to logout?' -b 'Yes!' 'i3-msg exit'"

# Autostart configuration
exec --no-startup-id "xdotool key Control+ISO_Level3_Shift+1"
exec --no-startup-id $HOME/dotfiles/scripts/launch_polybar.sh
exec --no-startup-id megasync