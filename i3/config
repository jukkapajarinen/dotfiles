# General customizations
for_window [class="^-"] border pixel 0

# Set my goofy variables for easier keybindings
set $Ctrl Mod4
set $Opt Mod5
set $Cmd Control

# General controls
bindsym $Cmd+q kill
bindsym $Cmd+$Ctrl+t exec alacritty
bindsym $Cmd+Tab exec "rofi -modi window -show-icons -show window"
bindsym $Cmd+space exec "rofi -modi run -show run"
bindsym $Cmd+Shift+3 exec "scrot -e 'mv $f ~/Desktop/'"
bindsym $Cmd+Shift+4 exec "scrot -e 'mv $f ~/Desktop/'"

# Xf86 keybindings
bindsym XF86MonBrightnessDown exec "i3-nagbar -t 'warning' -m 'XF86MonBrightnessDown'"
bindsym XF86MonBrightnessUp exec "i3-nagbar -t 'warning' -m 'XF86MonBrightnessUp'"
bindsym XF86LaunchA exec "i3-nagbar -t 'warning' -m 'XF86LaunchA'"
bindsym XF86LaunchB exec "rofi -modi run -show run"
bindsym XF86KbdBrightnessDown exec "i3-nagbar -t 'warning' -m 'XF86KbdBrightnessDown'"
bindsym XF86KbdBrightnessUp exec "i3-nagbar -t 'warning' -m 'XF86KbdBrightnessUp'"
bindsym XF86AudioPrev exec "dbus-send --print-reply --dest=org.mpris.MediaPlayer2.spotify /org/mpris/MediaPlayer2 org.mpris.MediaPlayer2.Player.Previous"
bindsym XF86AudioPlay exec "dbus-send --print-reply --dest=org.mpris.MediaPlayer2.spotify /org/mpris/MediaPlayer2 org.mpris.MediaPlayer2.Player.PlayPause"
bindsym XF86AudioNext exec "dbus-send --print-reply --dest=org.mpris.MediaPlayer2.spotify /org/mpris/MediaPlayer2 org.mpris.MediaPlayer2.Player.Next"
bindsym XF86AudioMute exec "pulsemixer --id 0 --toggle-mute"
bindsym XF86AudioLowerVolume exec "pulsemixer --id 0 --change-volume -1"
bindsym XF86AudioRaiseVolume exec "pulsemixer --id 0 --change-volume +1"
bindsym XF86Eject exec "i3-nagbar -t 'warning' -m 'XF86Eject'"

# Change focused window
bindsym $Cmd+$Opt+Left focus left
bindsym $Cmd+$Opt+Down focus down
bindsym $Cmd+$Opt+Up focus up
bindsym $Cmd+$Opt+Right focus right

# Controls for focused window
bindsym $Cmd+$Opt+Shift+Left move left
bindsym $Cmd+$Opt+Shift+Down move down
bindsym $Cmd+$Opt+Shift+Up move up
bindsym $Cmd+$Opt+Shift+Right move right
bindsym $Cmd+$Opt+f fullscreen toggle

# Change container layout (stacked, tabbed, toggle split)
bindsym $Cmd+$Opt+s layout stacking
bindsym $Cmd+$Opt+w layout tabbed
bindsym $Cmd+$Opt+e layout toggle split

# Toggle floating mode
bindsym $Cmd+$Opt+space floating toggle
floating_modifier $Cmd+$Opt

# Switch to workspace
bindsym $Cmd+$Opt+1 workspace 1
bindsym $Cmd+$Opt+2 workspace 2
bindsym $Cmd+$Opt+3 workspace 3
bindsym $Cmd+$Opt+4 workspace 4
bindsym $Cmd+$Opt+5 workspace 5
bindsym $Cmd+$Opt+6 workspace 6
bindsym $Cmd+$Opt+7 workspace 7
bindsym $Cmd+$Opt+8 workspace 8
bindsym $Cmd+$Opt+9 workspace 9
bindsym $Cmd+$Opt+0 workspace 10

# Move focused container to workspace
bindsym $Cmd+$Opt+Shift+1 move container to workspace 1
bindsym $Cmd+$Opt+Shift+2 move container to workspace 2
bindsym $Cmd+$Opt+Shift+3 move container to workspace 3
bindsym $Cmd+$Opt+Shift+4 move container to workspace 4
bindsym $Cmd+$Opt+Shift+5 move container to workspace 5
bindsym $Cmd+$Opt+Shift+6 move container to workspace 6
bindsym $Cmd+$Opt+Shift+7 move container to workspace 7
bindsym $Cmd+$Opt+Shift+8 move container to workspace 8
bindsym $Cmd+$Opt+Shift+9 move container to workspace 9
bindsym $Cmd+$Opt+Shift+0 move container to workspace 10

# Top-level i3 controls
bindsym $Cmd+$Ctrl+Shift+c reload
bindsym $Cmd+$Ctrl+Shift+r restart
bindsym $Cmd+$Ctrl+Shift+e exec "i3-msg exit"

# Autostart applications
exec --no-startup-id $HOME/dotfiles/scripts/launch_polybar.sh
exec --no-startup-id megasync